### ğŸ€ HarpSharp_SERVER
<img src = "https://github.com/user-attachments/assets/e017dfcb-d65d-4e78-a607-9444707db272" width = "30%" height = "30%">

<br>

**HarpSharp backend**ì…ë‹ˆë‹¤. <br>
**HarpSharp**ëŠ” ë°±ì˜¤í”¼ìŠ¤ë¥¼ ì§€í–¥í•˜ëŠ” ì„œë¹„ìŠ¤ë¡œ <br>
í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ í™˜ê²½ì—ì„œ ë„ì»¤ ê¸°ë°˜ì˜ MSA ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.<br>

<br>

JWT ì¸ì¦/ì¸ê°€ë¥¼ ë‹´ë‹¹í•˜ëŠ” **Auth** <br>
ê²Œì‹œê¸€, ëŒ“ê¸€ CRUD ë° ì¢‹ì•„ìš” ê¸°ëŠ¥ì„ ê°€ì§„ **Board** <br>
ì¼ì • ê´€ë¦¬ ë° ì§„í–‰ ìƒíƒœ CRUD ê¸°ëŠ¥ì„ ê°€ì§„ **Todo** <br>
ChatGPT APIë¥¼ ì—°ê²°í•œ **ìƒì„±í˜• AI ì±—ë´‡ ì„œë²„**ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. <br>
<br> 
í˜„ì¬ AWS EC2ì—ì„œ ê°œë³„ ì»¨í…Œì´ë„ˆë¡œ ë°°í¬ ì¤‘ì´ë©°,
https://harpsharp.com ë¡œ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
<br>

### ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

| ëª©ì  | ì‚¬ìš© ê¸°ìˆ  |
|:---:|:----:|
|CI/CD|![Github actions](https://img.shields.io/badge/Actions-2088FF?style=for-the-badge&logo=GithubActions&logoColor=white) ![S3](https://img.shields.io/badge/S3-569A31?style=for-the-badge&logo=AmazoneS3&logoColor=whit) ![CodeDeploy](https://img.shields.io/badge/CodeDeploy-ab0fd7?style=for-the-badge) ![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=Docker&logoColor=white) ![NGINX](https://img.shields.io/badge/NGINX-009639?style=for-the-badge&logo=Nginx&logoColor=white)|
|API ì„œë²„|![JAVA17](https://img.shields.io/badge/JAVA17-6DB33F?style=for-the-badge) ![Spring Boot 3.3.1](https://img.shields.io/badge/SpringBoot-6DB33F?style=for-the-badge&logo=SpringBoot&logoColor=white) ![Spring Security](https://img.shields.io/badge/SpringSecurity-6DB33F?style=for-the-badge&logo=SpringSecurity&logoColor=white) ![JPA](https://img.shields.io/badge/JPA-6DB33F?style=for-the-badge) ![python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=Python&logoColor=white) ![fastapi](https://img.shields.io/badge/FastAPI-000000?style=for-the-badge&logo=FastAPI&logoColor=009688) |
| ìš´ìš© í™˜ê²½ | ![EC2 t3.medium](https://img.shields.io/badge/t3.midium-FF9900?style=for-the-badge&logo=EC2&logoColor=white) ![ubuntu](https://img.shields.io/badge/Ubuntu-E95420?style=for-the-badge&logo=Ubuntu&logoColor=white) |
| DB | ![mySQL 8.0](https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=MySQL&logoColor=white) ![Redis](https://img.shields.io/badge/Redis-FF4438?style=for-the-badge&logo=Redis&logoColor=white) ![mongoDB](https://img.shields.io/badge/mongodb-4479A1?style=for-the-badge&logo=mongodb&logoColor=47A248) |
| ë¹Œë“œ | ![Gradle](https://img.shields.io/badge/Gradle-02303A?style=for-the-badge&logo=Gradle&logoColor=white) |
| í˜‘ì—… | ![Swagger](https://img.shields.io/badge/Swagger-85EA2D?style=for-the-badge&logo=Swagger&logoColor=white) ![GitHub](https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white) ![notion](https://img.shields.io/badge/Notion-000000?style=for-the-badge&logo=Notion&logoColor=white) ![Slack](https://img.shields.io/badge/Slack-4A154B?style=for-the-badge&logo=Slack&logoColor=white) |
| í…ŒìŠ¤íŠ¸ | ![JUnit5](https://img.shields.io/badge/JUnit5-25A162?style=for-the-badge&logo=JUnit5&logoColor=white) ![Postman](https://img.shields.io/badge/Postman-FF6C37?style=for-the-badge&logo=Postman&logoColor=white) ![MockMVC](https://img.shields.io/badge/MockMVC-f2d418?style=for-the-badge)|


<br>

### ğŸŒ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
#### ì „ì²´ êµ¬ì„±ë„
<img src = "https://github.com/user-attachments/assets/c8c87fbd-e93d-401e-a955-c5bbe9003c17" width = "80%" height = "80%">
<br></br>

1. ì •ì  í˜ì´ì§€ë¥¼ ë°°í¬í•˜ëŠ” í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„ì™€ ì„œë¹„ìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” API ì„œë²„ë¡œ êµ¬ë¶„ë˜ì–´ ìˆìŠµë‹ˆë‹¤. <br>
2. ëª¨ë“  ìš”ì²­ì€ NGINX(ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„œë²„)ë¡œ í–¥í•˜ë©° ë‚´ë¶€ ì„¤ì •ì— ë”°ë¼ ì•Œë§ëŠ” ì„œë²„ë¡œ ë¼ìš°íŒ… ë©ë‹ˆë‹¤. 

<br></br>

#### API ì„œë²„ êµ¬ì„±ë„
<img src = "https://github.com/user-attachments/assets/5920d1e6-850a-4bf0-8a11-b410cb98e532" width = "80%" height = "80%"></img>
<br></br>


#### ğŸ­ ë°°í¬ ì ˆì°¨
1. main or dev ë¸Œëœì¹˜ë¡œ push í˜¹ì€ PRì´ ë°œìƒí•˜ë©´ CI ìŠ¤í¬ë¦½íŠ¸ì— ë”°ë¼ Actionsì—ì„œ ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸ê°€ ì§„í–‰ë©ë‹ˆë‹¤. 
2. ë°°í¬ì— í•„ìš”í•œ íŒŒì¼ë“¤ì„ zipìœ¼ë¡œ ì••ì¶•í•´ S3ì— ì—…ë¡œë“œ í•©ë‹ˆë‹¤. 
3. CodeDeployì— ë°°í¬ ìš”ì²­ì„ ì „ë‹¬, íŠ¸ë¦¬ê±°ê°€ ë°œë™ë¼ S3 ë²„í‚·ì— ì—…ë¡œë“œ ëœ deploy.zip íŒŒì¼ì„ EC2ì— ì—…ë¡œë“œí•©ë‹ˆë‹¤.
4. ìŠ¤í¬ë¦½íŠ¸ì— ë”°ë¼ ë°°í¬ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.
   + ë°°í¬ ì¤‘ì¸ ì»¨í…Œì´ë„ˆë“¤ì„ ë‚´ë¦° í›„, ë°°í¬ í´ë” ë‚´ë¶€ì˜ docker-composeë¥¼ ì‹¤í–‰ ì‹œí‚¤ëŠ” ê³¼ì •ì…ë‹ˆë‹¤.
6. ì˜¬ë¼ê°„ ì»¨í…Œì´ë„ˆëŠ” ë„ì»¤ bridge ë„¤íŠ¸ì›Œí¬ì— í•©ë¥˜í•˜ë©°, ë‚´ë¶€ ì»¨í…Œì´ë„ˆ ê°„ HTTP í†µì‹ ì„ í†µí•´ APIë¥¼ ì£¼ê³  ë°›ìŠµë‹ˆë‹¤.

<br></br>

### ğŸ½ï¸ ì„œë²„ êµ¬ì„±

<img src = "https://github.com/user-attachments/assets/993e97a2-171e-4200-a3d6-31951e126062" width = "80%" height = "80%">

#### ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„œë²„ (NGINX)
- ì„œë²„ì˜ ì•ë‹¨ì— ìœ„ì¹˜í•˜ë©° ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
- í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„ë¡œë¶€í„° ì „ë‹¬ë°›ì€ APIë¥¼ ì˜¬ë°”ë¥¸ ì—”ë“œí¬ì¸íŠ¸ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
- ì¸ì¦/ì¸ê°€ê°€ í•„ìš”í•œ ìš”ì²­ì˜ ê²½ìš° Auth ì„œë²„ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
- ì¸ì¦/ì¸ê°€ë¥¼ ë°›ì€ APIë¥¼ ê¸°ì¡´ ì—”ë“œí¬ì¸íŠ¸ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
#### í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„
- ì‚¬ìš©ìë¡œë¶€í„° ìš”ì²­ ë°›ì€ ì •ì  í˜ì´ì§€ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤.
- ë‚´ë¶€ API ë¼ìš°í„°ë¥¼ í†µí•´ UI/UXë¡œ í˜¸ì¶œëœ APIë¥¼ ë„ë©”ì¸ ì„œë²„ë¡œ ìš”ì²­í•©ë‹ˆë‹¤.
#### ì¸ì¦/ì¸ê°€ ì„œë²„ (Auth)
- í—¤ë”ì— í¬í•¨ëœ JWTì˜ ìœ íš¨ì„± ê²€ì¦ ë° ì¸ì¦/ì¸ê°€ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
- ìœ íš¨í•œ ìš”ì²­ì˜ ê²½ìš° Nginxë¡œ ê²€ì¦ì´ ì™„ë£Œë˜ì—ˆë‹¤ëŠ” ì‘ë‹µì„ ë³´ëƒ…ë‹ˆë‹¤. (200 OK)
#### ë„ë©”ì¸ ì„œë²„ (Board, Todo, AI)
- ë„ë©”ì¸ ë¡œì§ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
- CRUDì™€ ChatGPT API ìš”ì²­ ë° ì‘ë‹µì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. 
#### DB (mySQL, Redis)
- ì¸ì¦/ì¸ê°€ ì„œë²„ì™€ ë„ë©”ì¸ ì„œë²„ ëª¨ë‘ê°€ ê³µìœ í•˜ëŠ” DB ì…ë‹ˆë‹¤.
- RDBì—ì„  ìœ ì € ì •ë³´, Posts, Commentsì™€ ê°™ì€ ì‹¤ì§ˆì ì¸ ë¦¬ì†ŒìŠ¤ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
- Redisì˜ ê²½ìš° Refresh Tokenì„ ì €ì¥í•˜ë©° Auth ì„œë²„ì—ì„œ JWT ìœ íš¨ì„±ì„ ê²€ì¦í•˜ëŠ” ë¡œì§ì— í™œìš©ë©ë‹ˆë‹¤.


<br>

### ğŸ ì£¼ìš” êµ¬í˜„ ì‚¬í•­
#### ë°°í¬ í™˜ê²½
1. í´ë¼ìš°ë“œ + ë„ì»¤ ê¸°ë°˜ì˜ CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
1. ë„ì»¤ ë„¤íŠ¸ì›Œí¬ ê¸°ë°˜ì˜ MSA êµ¬ì„±
2. NGINX ê¸°ë°˜ì˜ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ë° API ë¼ìš°íŒ… ì„œë²„

#### API
1. JWT+Spring Security ê¸°ë°˜ íšŒì› ì‹œìŠ¤í…œ ë° ì¸ì¦/ì¸ê°€
2. Board/TODO CRUD
3. ChatGPT APIë¥¼ ì—°ë™í•œ ì±—ë´‡
  
<br>

### ğŸª™ JWT ì¸ì¦/ì¸ê°€
#### ë°œê¸‰ ì ˆì°¨
![flow_JWT drawio (1)](https://github.com/user-attachments/assets/0ca7e7e3-9a35-4c48-b80d-62876f1e1142)
1. í´ë¼ì´ì–¸íŠ¸ê°€ ë¡œê·¸ì¸ì„ ìš”ì²­í•©ë‹ˆë‹¤.
2. ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì—ì„œ íšŒì› DBë¥¼ í™•ì¸í•´ í•´ë‹¹ í´ë¼ì´ì–¸íŠ¸ê°€ ê°€ì…ëœ íšŒì›ì¸ì§€ë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.
3. íšŒì›ì˜ ì‹ë³„ì + username + roleì„ ì¡°í•©í•´ Access Tokenê³¼ Refresh Tokenì„ ë°œê¸‰í•©ë‹ˆë‹¤.
4. Refresh Tokenì€ ì°¨í›„ Access Token ê²€ì¦ ê³¼ì •ì— í™œìš©ë©ë‹ˆë‹¤.
6. HTTP í†µì‹ ì„ í†µí•´ Access Tokenì€ í—¤ë”ì— ë‹´ê³ , Refresh Tokenì€ ì¿ í‚¤ì— ë‹´ì•„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ë‹¬í•©ë‹ˆë‹¤.

<br>

#### ê²€ì¦ ê³¼ì •
![auth_JWT drawio (1)](https://github.com/user-attachments/assets/341d192a-925e-44a2-8693-610e1ba98e1a)
<br>
1. í´ë¼ì´ì–¸íŠ¸ê°€ í—¤ë”ì— Access Tokenì„ ë‹´ì•„ NGINX(í”„ë¡ì‹œ ì„œë²„)ë¡œ Requestë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.
2. Requestê°€ ì¸ê°€ê°€ í•„ìš”í•œ APIì¸ ê²½ìš°, Auth ì„œë²„ë¡œ í•´ë‹¹ Requestë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.
3. Requestì— ë‹´ê¸´ Access Tokenì„ êº¼ë‚´ ìœ íš¨ì„±ì„ ê²€ì¦í•©ë‹ˆë‹¤.
4. Black List(Redis) ë‚´ë¶€ì— Access Tokenì„ í‚¤ë¡œ ê°€ì§„ Refresh Entityê°€ ì¡´ì¬í•˜ëŠ” ì§€ í™•ì¸í•©ë‹ˆë‹¤.
5. Black Listì— ì¡´ì¬í•˜ëŠ” ê²½ìš°, ë§Œë£Œëœ í† í°ìœ¼ë¡œ ê°„ì£¼í•©ë‹ˆë‹¤.
6. Access Tokenê³¼ Refresh Tokenì˜ ìœ íš¨ì„± ì—¬ë¶€ë¥¼ NGINXë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
7. ìœ íš¨ì„±ì´ ê²€ì¦ëœ ê²½ìš°, ê¸°ì¡´ ì—”ë“œí¬ì¸íŠ¸ë¡œ í•´ë‹¹ ìš”ì²­ì„ ì „ë‹¬í•©ë‹ˆë‹¤.
8. ë¡œê·¸ì•„ì›ƒ í˜¹ì€ íšŒì›íƒˆí‡´ë¡œ ê¸°ì¡´ í† í°ì„ ë§Œë£Œì‹œí‚¬ í•„ìš”ê°€ ìˆëŠ” ê²½ìš° ë°œê¸‰í•œ Refresh Tokenì„ Black List(Redis)ì— ì¶”ê°€í•©ë‹ˆë‹¤.
   

<br>

### Ice Breaking
#### ì¢‹ì•„ìš” ê¸°ëŠ¥ (í† ê¸€)
![image](https://github.com/user-attachments/assets/b14e8138-4e1e-4e65-8268-9a8ffb086daa)

<br>

### ğŸ¨ Album ì„œë²„
#### ì´ë¯¸ì§€ CRUD
![image](https://github.com/user-attachments/assets/77b84d2b-6b9c-43f1-933d-69e67060a268)
#### ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§• / ìºì‹±
![image](https://github.com/user-attachments/assets/c3f9c2e8-a3d0-4545-89c7-114a9aa6faa1)

<br>


### ì‹œì—° ì˜ìƒ
![image](https://github.com/user-attachments/assets/c579ba62-e765-417c-9725-cde6cfb86ac8)
ğŸ¥ë§í¬: https://www.youtube.com/watch?v=asTGkZcJ5AM


### ğŸ’£ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

+ [CI/CD êµ¬ì¶•](https://www.notion.so/CI-CD-Auth-affecce9d61240faa17cb4f0cf91ec1a)
+  [ìŠ¤í”„ë§ ì‹œíë¦¬í‹° í•„í„°ì²´ì¸ Exception Handling](https://www.notion.so/Exception-Handling-06b2eb233827434d991a43d8a128fee1)
+  [NGINX ì»¤ìŠ¤í…€ - 1](https://www.notion.so/nginx-API-5dc220068eb94a73a225bb61f9ce2451)
+  [NGINX ì»¤ìŠ¤í…€ - 2](https://www.notion.so/a81e178bafeb462085358c448ac347fa?v=d5768f826212401b9a504287b1836ad2&p=acb60a4de3dc43eba920238fefa29d64&pm=s)
+  [JPA ì—°ê´€ ê´€ê³„ ë§¤í•‘ê³¼ ì˜ì†ì„± ì»¨íƒìŠ¤íŠ¸](https://www.notion.so/a81e178bafeb462085358c448ac347fa?v=d5768f826212401b9a504287b1836ad2&p=13c0417be7aa4addbd40b336112b8a47&pm=s)
+ [ì„œë²„ í†µí•© ê³¼ì •ì—ì„œ ê²ªì€ ì—¬ëŸ¬ ì‹œí–‰ì°©ì˜¤ë“¤](https://www.notion.so/34db9b8e73bc46bca5740a93e89e6a85?pvs=4)
+ [Swagger + RestDocssë¥¼ í™œìš©í•œ API ëª…ì„¸ì„œ ìë™í™”ì™€ í†µí•© ë°°í¬ê¹Œì§€ì˜ ì‹œí–‰ ì°©ì˜¤ - 1](https://www.notion.so/swagger-auth-52fd07b1114047d2b14206581a69a0ee)
+ [Swagger + RestDocssë¥¼ í™œìš©í•œ API ëª…ì„¸ì„œ ìë™í™”ì™€ í†µí•© ë°°í¬ê¹Œì§€ì˜ ì‹œí–‰ ì°©ì˜¤ - 2](https://www.notion.so/Swagger-cab6507f18fd43c4ae53870acb839219)
+ [Swagger + RestDocssë¥¼ í™œìš©í•œ API ëª…ì„¸ì„œ ìë™í™”ì™€ í†µí•© ë°°í¬ê¹Œì§€ì˜ ì‹œí–‰ ì°©ì˜¤ - 3](https://www.notion.so/NGINX-Swagger-23c001b4363346448189cec06081ccb0)
+ [Response ì»¨ë²¤ì…˜ í†µí•© - 1](https://www.notion.so/Response-6baaebd19a264339906ae2ad38a1379b)
+ [Response ì»¨ë²¤ì…˜ í†µí•© - 2](https://www.notion.so/Response-1c8f497b693a4b1ba47e8d8d3770adbf)
+ [DBë¥¼ ê¸°ì¡´ ë„¤íŠ¸ì›Œí¬ì™€ ë¶„ë¦¬](https://www.notion.so/DB-91d3d602e9bc452eba8b26e6fb25cecd)
+ [ìŠ¤í”„ë§ ì‹œíë¦¬í‹° í•„í„°ì²´ì¸ ë¦¬íŒ©í† ë§ - 1](https://www.notion.so/Auth-logout-update-46cbdfbe01f54e65a945ce54296f6226)
+ [ìŠ¤í”„ë§ ì‹œíë¦¬í‹° í•„í„°ì²´ì¸ ë¦¬íŒ©í† ë§ - 2](https://www.notion.so/7deebafd0aab4b4babe7474b6fa53ae9)
+ [ìŠ¤í”„ë§ ì‹œíë¦¬í‹° í•„í„°ì²´ì¸ ë¦¬íŒ©í† ë§ - 3](https://www.notion.so/b3a5346ff7464f90a5edaaf1c66bbe12)
+ [CORS ìš°íšŒ + í”„ë¡ íŠ¸ ì„œë²„ ë°°í¬](https://www.notion.so/CORS-a30c1ff0fab74786a5d32a216bd9513e)
+ [CORS ì ìš© + í”„ë¡ íŠ¸ ë¡œì»¬ í™˜ê²½ ì •ìƒí™”](https://www.notion.so/CORS-Cookie-5efe82a5e13445ef924ee7e72ebf12c9)
+ [S3 + CDN + Lambda@Edgeë¥¼ í™œìš©í•œ ì´ë¯¸ì§€ ì„œë²„ë¥¼ êµ¬ì„±í•˜ë©° ê²ªì—ˆë˜ ì‹œí–‰ ì°©ì˜¤ë“¤](https://www.notion.so/CDN-lambda-edge-530b31415f404afdaa0fca55cf8b0ae2)

<br>

### ğŸ•°ï¸ ì§„í–‰ í˜„í™©
#### API ì„œë²„ êµ¬í˜„ ë° ë°°í¬
2024.07.17 ~ 2024.08.09
#### CI/CD êµ¬ì¶•
2024.07.24 ~ 2024.07.27
#### API í…ŒìŠ¤íŠ¸ (Postman / Swagger) 
2024.08.09 ~ 2024.08.11
![ìŠ¤í¬ë¦°ìƒ· 2024-08-19 002057](https://github.com/user-attachments/assets/1dd4cdd7-9abe-4b4d-be90-a94b94d704d1)
#### í”„ë¡ íŠ¸ ì„œë²„ ë°°í¬ ë° API ì„œë²„ì™€ ì—°ë™ í…ŒìŠ¤íŠ¸
2024.08.09 ~ 2024.09.09 <br>
![2024-08-2000 32 13-ezgif com-video-to-gif-converter](https://github.com/user-attachments/assets/8d7fd9ef-02cd-4042-b215-044e458b6194)

<br>

#### ğŸ¤ í˜‘ì—… ë§í¬
[notion](https://www.notion.so/aa19bf4f9e87408391e2b9d29fb3a2dd) <br>
[swagger](https://harpsharp.com/docs/) <br>
