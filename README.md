### ğŸ€ HarpSharp_SERVER
<img src = "https://github.com/user-attachments/assets/e017dfcb-d65d-4e78-a607-9444707db272" width = "30%" height = "30%">

<br></br>

**HarpSharp backend**ì…ë‹ˆë‹¤. <br>
**HarpSharp**ëŠ” ë°±ì˜¤í”¼ìŠ¤ë¥¼ ì§€í–¥í•˜ëŠ” ì„œë¹„ìŠ¤ë¡œ <br>
í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ í™˜ê²½ì—ì„œ ë„ì»¤ ê¸°ë°˜ì˜ MSA ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.<br>

<br>

ì¸ì¦/ì¸ê°€ë¥¼ ë‹´ë‹¹í•˜ëŠ” **Auth** <br>
ê²Œì‹œê¸€, ëŒ“ê¸€ CRUD ê¸°ëŠ¥ì„ ê°€ì§„ **Board/TODO** <br>
ChatGPT APIë¥¼ ì—°ê²°í•œ ìƒì„±í˜• AI ì„œë²„ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. <br>
<br> 
í˜„ì¬ https://harpsharp.com ë„ë©”ì¸ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë©° <br>
AWS EC2ì—ì„œ ê°œë³„ ì»¨í…Œì´ë„ˆë¡œ ë°°í¬ ì¤‘ì…ë‹ˆë‹¤. <br>
<br>

### ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

| ëª©ì  | ì‚¬ìš© ê¸°ìˆ  |
|:---:|:----:|
|CI/CD|![Github actions](https://img.shields.io/badge/Actions-2088FF?style=for-the-badge&logo=GithubActions&logoColor=white) ![S3](https://img.shields.io/badge/S3-569A31?style=for-the-badge&logo=AmazoneS3&logoColor=whit) ![CodeDeploy](https://img.shields.io/badge/CodeDeploy-ab0fd7?style=for-the-badge) ![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=Docker&logoColor=white) ![NGINX](https://img.shields.io/badge/NGINX-009639?style=for-the-badge&logo=Nginx&logoColor=white)|
|API ì„œë²„|![JAVA17](https://img.shields.io/badge/JAVA17-6DB33F?style=for-the-badge) ![Spring Boot 3.3.1](https://img.shields.io/badge/SpringBoot-6DB33F?style=for-the-badge&logo=SpringBoot&logoColor=white) ![Spring Security](https://img.shields.io/badge/SpringSecurity-6DB33F?style=for-the-badge&logo=SpringSecurity&logoColor=white) ![JPA](https://img.shields.io/badge/JPA-6DB33F?style=for-the-badge) ![python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=Python&logoColor=white) ![Flask](https://img.shields.io/badge/Flask-000000?style=for-the-badge&logo=Flask&logoColor=white) |
| ìš´ìš© í™˜ê²½ | ![EC2 t3.medium](https://img.shields.io/badge/t3.midium-FF9900?style=for-the-badge&logo=EC2&logoColor=white) ![ubuntu](https://img.shields.io/badge/Ubuntu-E95420?style=for-the-badge&logo=Ubuntu&logoColor=white) |
| DB | ![mySQL 8.0](https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=MySQL&logoColor=white) ![Redis](https://img.shields.io/badge/Redis-FF4438?style=for-the-badge&logo=Redis&logoColor=white) |
| ë¹Œë“œ | ![Gradle](https://img.shields.io/badge/Gradle-02303A?style=for-the-badge&logo=Gradle&logoColor=white) |
| í˜‘ì—… | ![Swagger](https://img.shields.io/badge/Swagger-85EA2D?style=for-the-badge&logo=Swagger&logoColor=white) ![GitHub](https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white) ![notion](https://img.shields.io/badge/Notion-000000?style=for-the-badge&logo=Notion&logoColor=white) ![Slack](https://img.shields.io/badge/Slack-4A154B?style=for-the-badge&logo=Slack&logoColor=white) |
| í…ŒìŠ¤íŠ¸ | ![JUnit5](https://img.shields.io/badge/JUnit5-25A162?style=for-the-badge&logo=JUnit5&logoColor=white) ![Postman](https://img.shields.io/badge/Postman-FF6C37?style=for-the-badge&logo=Postman&logoColor=white) ![MockMVC](https://img.shields.io/badge/MockMVC-f2d418?style=for-the-badge)|


<br>

### ğŸ—ºï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
<img src = "https://github.com/user-attachments/assets/5d9c108f-9359-49c2-88e3-f2c99b6618ea" width = "80%" height = "80%">

<br>

### ë°°í¬ ì ˆì°¨
1. main or dev ë¸Œëœì¹˜ë¡œ push í˜¹ì€ pull requestê°€ ë°œìƒí•˜ë©´ Actions CI ìŠ¤í¬ë¦½íŠ¸ì— ë”°ë¼ ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸ê°€ ì§„í–‰ë©ë‹ˆë‹¤. 
2. ë°°í¬ ìŠ¤í¬ë¦½íŠ¸, appspec.yml, docker.yml, *.jar ë“± ë°°í¬ì— í•„ìš”í•œ íŒŒì¼ë“¤ì„ zipìœ¼ë¡œ ì••ì¶•í•´ S3ì— ì—…ë¡œë“œ í•©ë‹ˆë‹¤. 
3. CodeDeployì— ë°°í¬ ìš”ì²­ì„ ì „ë‹¬, íŠ¸ë¦¬ê±°ê°€ ë°œë™ë¼ S3 ë²„í‚·ì— ì—…ë¡œë“œ ëœ deploy.zip íŒŒì¼ì„ ë°›ì•„ ìŠ¤í¬ë¦½íŠ¸ì— ë”°ë¼ ë°°í¬ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.
4. ìŠ¤í¬ë¦½íŠ¸ëŠ” í˜„ì¬ ë°°í¬ ì „ ì„œë¹„ìŠ¤ì˜ ì»¨í…Œì´ë„ˆë¥¼ ë‚´ë¦° í›„, ë°°í¬ í´ë” ë‚´ë¶€ì˜ docker-composeë¥¼ ì‹¤í–‰ ì‹œí‚µë‹ˆë‹¤.
5. ì˜¬ë¼ê°„ ì»¨í…Œì´ë„ˆëŠ” ë„ì»¤ bridge ë„¤íŠ¸ì›Œí¬ì— í•©ë¥˜í•˜ë©°, ë‚´ë¶€ ì»¨í…Œì´ë„ˆ ê°„ HTTP í†µì‹ ì„ í†µí•´ APIë¥¼ ì£¼ê³  ë°›ìŠµë‹ˆë‹¤.

<br></br>

### ì„œë²„ êµ¬ì„±
![ì„œë²„ êµ¬ì„± drawio](https://github.com/user-attachments/assets/cf546632-6b30-4172-94d5-02e22ba77bb3)

#### ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„œë²„ (NGINX)
- ì„œë²„ì˜ ì•ë‹¨ì— ìœ„ì¹˜í•˜ë©° ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
- í´ë¼ì´ì–¸íŠ¸ì˜ APIë¥¼ ì˜¬ë°”ë¥¸ ì—”ë“œí¬ì¸íŠ¸ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
- ì¸ì¦/ì¸ê°€ê°€ í•„ìš”í•œ ìš”ì²­ì˜ ê²½ìš° Auth ì„œë²„ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
- ì¸ì¦/ì¸ê°€ë¥¼ ë°›ì€ APIë¥¼ ê¸°ì¡´ ì—”ë“œí¬ì¸íŠ¸ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
#### ì¸ì¦/ì¸ê°€ ì„œë²„ (Auth)
- í—¤ë”ì— í¬í•¨ëœ JWTì˜ ìœ íš¨ì„± ê²€ì¦ ë° ì¸ì¦/ì¸ê°€ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
- ìœ íš¨í•œ ìš”ì²­ì˜ ê²½ìš° Nginxìœ¼ë¡œ ê²€ì¦ì´ ì™„ë£Œë˜ì—ˆë‹¤ëŠ” ì‘ë‹µì„ ë³´ëƒ…ë‹ˆë‹¤. (200 OK)
#### ë„ë©”ì¸ ì„œë²„ (Board, Todo, AI)
- ë„ë©”ì¸ ë¡œì§ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
- CRUDì™€ ChatGPT API ìš”ì²­ ë° ì‘ë‹µì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. 
#### DB (mySQL, Redis)
- ì¸ì¦/ì¸ê°€ ì„œë²„ì™€ ë„ë©”ì¸ ì„œë²„ ëª¨ë‘ê°€ ê³µìœ í•˜ëŠ” DB ì…ë‹ˆë‹¤.
- RDBì—ì„  ìœ ì € ì •ë³´, Posts, Commentsì™€ ê°™ì€ ì‹¤ì§ˆì ì¸ ë¦¬ì†ŒìŠ¤ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
- Redisì˜ ê²½ìš° Refresh Tokenì„ ì €ì¥í•˜ë©° Auth ì„œë²„ì—ì„œ JWT ìœ íš¨ì„±ì„ ê²€ì¦í•˜ëŠ” ë¡œì§ì— í™œìš©ë©ë‹ˆë‹¤.


### ğŸ§± ERD
<img src = "https://github.com/user-attachments/assets/776a5064-9923-41b4-87ac-86012cf94628" width = "50%" height = "25%">  

<br>

### ğŸ ì£¼ìš” ê¸°ëŠ¥

#### JWT ì¸ì¦/ì¸ê°€
#### ë°œê¸‰ê³¼ì •
<img src = "https://github.com/user-attachments/assets/3ea2d271-35b0-40a1-8763-629b721c4c9f" width = "30%" height = "30%">
1. í´ë¼ì´ì–¸íŠ¸ê°€ ë¡œê·¸ì¸ì„ ìš”ì²­í•©ë‹ˆë‹¤.
2. ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì—ì„œ íšŒì› DBë¥¼ í™•ì¸í•´ í•´ë‹¹ í´ë¼ì´ì–¸íŠ¸ê°€ ê°€ì…ëœ íšŒì›ì¸ì§€ë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.
3. íšŒì›ì˜ ì‹ë³„ì + username + roleì„ ì¡°í•©í•´ Access Tokenê³¼ Refresh Tokenì„ ë°œê¸‰í•©ë‹ˆë‹¤.
4. Refresh Tokenì€ ì°¨í›„ Access Token ê²€ì¦ ê³¼ì •ì— í™œìš©ë˜ë©°, Redisì— ì €ì¥í•©ë‹ˆë‹¤. (Key: Access Token, Value: RefreshEntity)
5. HTTP í†µì‹ ì„ í†µí•´ Access Tokenì€ í—¤ë”ì— ë‹´ê³ , Refresh Tokenì€ ì¿ í‚¤ì— ë‹´ì•„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ë‹¬í•©ë‹ˆë‹¤.

<br>

#### ê²€ì¦ ê³¼ì •
<img src = "https://github.com/user-attachments/assets/76c171bc-5ab2-4471-b142-6b48105497a4" width = "30%" height = "30%">
1. í´ë¼ì´ì–¸íŠ¸ê°€ í—¤ë”ì— Access Tokenì„ ë‹´ì•„ NGINX(í”„ë¡ì‹œ ì„œë²„)ë¡œ Requestë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.
2. Requestê°€ ì¸ê°€ê°€ í•„ìš”í•œ APIì¸ ê²½ìš°, Auth ì„œë²„ë¡œ í•´ë‹¹ Requestë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.
3. Requestì— ë‹´ê¸´ Access Tokenì„ êº¼ë‚´ ìœ íš¨ì„±ì„ ê²€ì¦í•©ë‹ˆë‹¤.
4. Redis ë‚´ë¶€ì— Access Tokenì„ í‚¤ë¡œ ê°€ì§„ Refresh Entityê°€ ì¡´ì¬í•˜ëŠ” ì§€ í™•ì¸í•©ë‹ˆë‹¤.
5. Access Tokenê³¼ Refresh Tokenì˜ ìœ íš¨ì„± ì—¬ë¶€ë¥¼ NGINXë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
6. ìœ íš¨ì„±ì´ ê²€ì¦ëœ ê²½ìš°, ê¸°ì¡´ ë„ë©”ì¸ ì—”ë“œí¬ì¸íŠ¸ë¡œ í•´ë‹¹ ìš”ì²­ì„ ì „ë‹¬í•©ë‹ˆë‹¤.

#### ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ë° API ë¼ìš°íŒ…

#### Swagger + RestDocsë¥¼ í™œìš©í•œ API ëª…ì„¸ì„œ ìë™í™”

#### CRUD

<br>

#### ğŸ’£ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

1. CI/CD êµ¬ì¶•
2. ìŠ¤í”„ë§ ì‹œíë¦¬í‹° í•„í„°ì²´ì¸ Exception Handling
3. NGINX ì»¤ìŠ¤í…€
4. JPA ì—°ê´€ ê´€ê³„ ë§¤í•‘ê³¼ ì˜ì†ì„± ì»¨íƒìŠ¤íŠ¸
5. Swagger ì„œë²„ í†µí•©ê¹Œì§€ì˜ ì‹œí–‰ ì°©ì˜¤
6. Response ì»¨ë²¤ì…˜ í†µí•©


<br>

### ğŸ•°ï¸ ì§„í–‰ í˜„í™©
#### ì„œë²„ ë°°í¬ ë° í¬ìŠ¤íŠ¸ë§¨ ê¸°ë°˜ API í…ŒìŠ¤íŠ¸ 
2024.07.17 ~ 2024.08.11
#### í”„ë¡ íŠ¸ ì—°ê²°
2024.08.10 ~ 

<br>

#### ğŸ¤ í˜‘ì—… ë§í¬
[notion](https://www.notion.so/aa19bf4f9e87408391e2b9d29fb3a2dd) <br>
[swagger](http://harpsharp.com:9000/) <br>
